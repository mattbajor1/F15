import { useEffect, useState } from 'react'
import { api } from '../lib/api'
import { Link } from 'react-router-dom'
export default function Projects(){ const [items,setItems]=useState<any[]>([]); const [loading,setLoading]=useState(true); useEffect(()=>{ (async()=>{ try{ const data=await api('/projects'); setItems(data) }catch(e){ console.error(e) } finally{ setLoading(false) } })() },[]); return (<div className='max-w-6xl mx-auto p-6'><div className='flex items-center justify-between mb-4'><h1 className='text-2xl font-semibold'>Projects</h1><button className='px-3 py-2 rounded-lg bg-brand text-white'>New Project</button></div><div className='grid sm:grid-cols-2 gap-4'>{(loading? Array.from({length:2}).map((_,i)=>(<div key={i} className='rounded-xl h-36 bg-slate-800/40 animate-pulse border border-slate-800'/>)) : items.map(p=>(<Link key={p.id} to={`/projects/${p.id}`} className='rounded-xl border border-slate-800 bg-slate-900/40 shadow-card p-4 hover:border-slate-700'><div className='text-slate-400'>{p.client}</div><div className='text-xl font-semibold'>{p.name}</div><div className='text-slate-400 mt-1'>Status: <span className='text-white'>{p.status}</span></div></Link>)))}</div></div>) }